<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'; img-src 'self' data:;">
    <title>Folder for AI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <!-- НОВЫЙ КОНТЕЙНЕР ДЛЯ КНОПОК ОКНА -->
            <div class="window-controls">
                <button id="window-min-btn" class="control-button min-button" title="Свернуть">－</button>
                <button id="window-max-btn" class="control-button max-button" title="Развернуть">▢</button>
                <button id="window-close-btn" class="control-button close-button" title="Закрыть">✕</button>
            </div>
            <!-- КОНЕЦ КОНТЕЙНЕРА ДЛЯ КНОПОК ОКНА -->

            <div class="theme-switcher">
                <button id="theme-toggle-btn">Сменить тему</button>
            </div>

            <h1>Folder for AI</h1>
            <div class="folder-selection">
                 <button id="select-folder-btn">Выбрать корневую папку...</button>
                 <span id="scan-indicator" class="loading-indicator" style="display: none;">Сканирование...</span>
                 <span id="last-folder-info" style="font-size: 0.8em; margin-left: 10px;"></span>
            </div>
            <div id="status-bar">Папка не выбрана</div>
        </header>

        <main class="content-area">
            <!-- Левая панель: Дерево файлов -->
            <div class="panel file-tree-panel">
                <div class="tree-controls">
                    <input type="search" id="search-input" placeholder="Поиск по имени..." aria-label="Фильтр дерева файлов">
                    <input type="text" id="type-filter-input" placeholder="Фильтр по типу (например, .js, .txt)" aria-label="Фильтр по типу файла" style="margin-left: 5px;">
                    <button id="expand-all-btn" title="Развернуть все папки">Развернуть</button>
                    <button id="collapse-all-btn" title="Свернуть все папки">Свернуть</button>
                </div>
                <h2>Структура папки (выберите файлы):</h2>
                <div id="file-tree-container">
                    <p>Нажмите "Выбрать корневую папку...", чтобы начать.</p>
                </div>
            </div>

            <!-- Правая панель: Структура и Перетаскиваемые файлы -->
            <div class="panel output-panel">
                 <div class="output-section structure-section">
                     <h2>Полная структура папки:</h2>
                     <textarea id="structure-output" readonly placeholder="Структура папки появится здесь..."></textarea>
                     <button id="copy-structure-btn" disabled>Копировать структуру</button>
                 </div>

                 <div class="output-section draggable-section">
                     <h2>
                         Файлы для перетаскивания (<span id="selected-files-count">0</span>):
                     </h2>
                     <div id="draggable-files-container">
                         <p class="placeholder-text">Выберите файлы в дереве слева. Они появятся здесь для перетаскивания.</p>
                     </div>
                 </div>
            </div>
        </main>
    </div>

    <script src="./renderer.js"></script>
</body>
</html>